
<main>

<form th:action method="post" enctype="multipart/form-data" th:object="${restaurantForm}">
  <div id="menu-container">
    <!-- 초기 하나의 음식 메뉴 필드 -->
    <div class="menu-item">
      <input type="text" th:field="*{foods[0].name}" placeholder="음식 이름" required>
      <input type="number" th:field="*{foods[0].price}" placeholder="가격" required>
      <input type="file" th:field="*{foods[0].image}"  required>
    </div>
  </div>

  <button type="button" id="add-menu">+</button>
  <button type="submit">등록</button>
</form>



<script>
  document.getElementById("add-menu").addEventListener("click", function () {
    const container = document.getElementById("menu-container");
    const menuItems = container.getElementsByClassName("menu-item");
    const newIndex = menuItems.length;

    const newMenu = document.createElement("div");
    newMenu.className = "menu-item";
    newMenu.innerHTML = `
      <input type="text" name="foods[${newIndex}].name" placeholder="음식 이름" required>
      <input type="number" name="foods[${newIndex}].price" placeholder="가격" required>
      <input type="file" name="foods[${newIndex}].image" required>
    `;

    container.appendChild(newMenu);
  });
</script>

</main>

